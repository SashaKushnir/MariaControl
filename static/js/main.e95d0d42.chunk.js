(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,c,t){e.exports={selected:"CarSpaceItem_selected__2iCHs",spaceI:"CarSpaceItem_spaceI__eaTNh",disabled:"CarSpaceItem_disabled__nNyyv"}},20:function(e,c,t){e.exports={spaceArrWrapper:"CarSpaces_spaceArrWrapper__1N3-X"}},28:function(e,c,t){},29:function(e,c,t){},40:function(e,c,t){"use strict";t.r(c);var n=t(0),a=t.n(n),r=t(11),i=t.n(r),s=(t(28),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(c){var t=c.getCLS,n=c.getFID,a=c.getFCP,r=c.getLCP,i=c.getTTFB;t(e),n(e),a(e),r(e),i(e)}))}),d=(t(29),t(13)),u=t(5),j=t(14),o=t.n(j),b=function(e){return{type:"SET_BOOKED_ITEM",id:e}},p=function(){return{type:"COUNT_SPACES"}},O=t(1),l=function(e){var c=e.seconds,t=Math.trunc(c/3600),n=c-3600*t,a=Math.trunc(n/60),r=n-=60*a;return Object(O.jsxs)("div",{children:[t>=1&&Object(O.jsxs)("span",{children:[t," \u0433\u043e\u0434 "]}),(a>=1||t>=1)&&Object(O.jsxs)("span",{children:[a," \u0445\u0432 "]}),(r>=1||a>=1||t>=1)&&Object(O.jsxs)("span",{children:[r," \u0441\u0435\u043a"]})]})},f=function(e){var c,t=e.id,a=e.disabled,r=(e.callQueuedTime,Object(u.b)()),i=Object(n.useState)(0),s=Object(d.a)(i,2),j=s[0],f=s[1];Object(n.useEffect)((function(){return a&&(c=setInterval((function(){f(j+1)}),1e3)),function(){clearInterval(c)}}),[j]),Object(n.useEffect)((function(){a&&f(1)}),[a]);return Object(O.jsxs)("div",{className:"".concat(o.a.spaceI," ").concat(a?o.a.disabled:o.a.selected),onClick:function(){a||(r(b(t)),r(p()))},children:[Object(O.jsxs)("div",{children:["\u041f\u0430\u0440\u043a\u043e\u0432\u043e\u0447\u043d\u0435 \u043c\u0456\u0441\u0446\u0435 \u2116",t]}),Object(O.jsx)("div",{children:Object(O.jsx)(l,{seconds:j})})]})},h=t(20),S=t.n(h),_=function(){var e=Object(n.useState)(!1),c=Object(d.a)(e,2),t=c[0],a=c[1],r=Object(u.c)((function(e){return e.parkingR.carSpaces})).map((function(e,c){return Object(O.jsx)(f,{id:e.id,disabled:e.disabled,callQueuedTime:(new Date).getTime()},e.id)})),i=Object(u.b)();Object(n.useEffect)((function(){i(p())}));var s=Object(u.c)((function(e){return e.parkingR.emptySpaces})),j=Object(u.c)((function(e){return e.parkingR.fooledSpaces}));return Object(n.useEffect)((function(){j===r.length?a(!0):a(!1)}),[j]),Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{children:"1 \u0433\u043e\u0434\u0438\u043d\u0430 \u043f\u0430\u0440\u043a\u0443\u0432\u0430\u043d\u043d\u044f \u2013 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e! \u0422\u0430\u0440\u0438\u0444 \u2013 20 \u0433\u0440\u043d/\u0433\u043e\u0434\u0438\u043d\u0430\xbb"}),Object(O.jsx)("div",{className:S.a.spaceArrWrapper,children:r}),Object(O.jsxs)("div",{children:[s," \u0432\u0456\u043b\u044c\u043d\u0438\u0445 \u043c\u0456\u0441\u0446\u044c"]}),Object(O.jsxs)("div",{children:[j," \u0437\u0430\u0439\u043d\u044f\u0442\u0438\u0445 \u043c\u0456\u0441\u0446\u044c"]}),t&&Object(O.jsx)("div",{children:"\u0412\u0438\u0431\u0430\u0447\u0442\u0435, \u0430\u043b\u0435 \u0432\u0456\u043b\u044c\u043d\u0438\u0445 \u043c\u0456\u0441\u0446\u044c \u043d\u0430 \u043f\u0430\u0440\u043a\u043e\u0432\u0446\u0456 \u043d\u0435\u043c\u0430\u0454"})]})},v=t(9),x=t(21),E=t(23),m=t(10),T={carSpaces:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,c=[],t=0;t<e;t++)c.push({id:t+1,disabled:!1});return c.map((function(e){return e.disabled=Math.random()<.5,e}))}(),emptySpaces:0,fooledSpaces:0},g=Object(v.b)({parkingR:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"SET_BOOKED_ITEM":return Object(m.a)(Object(m.a)({},e),{},{carSpaces:Object(E.a)(e.carSpaces).map((function(e){return e.id===c.id&&(e.disabled=!0),e}))});case"COUNT_SPACES":return Object(m.a)(Object(m.a)({},e),{},{emptySpaces:e.carSpaces.reduce((function(e,c){return c.disabled||e++,e}),0),fooledSpaces:e.carSpaces.reduce((function(e,c){return c.disabled&&e++,e}),0)});default:return e}}}),C=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):v.c)(Object(v.a)(x.a)),I=Object(v.d)(g,C),y=t(22),N=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(_,{})})},w=function(){return Object(O.jsx)(u.a,{store:I,children:Object(O.jsx)(y.a,{children:Object(O.jsx)(N,{})})})};i.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),s()}},[[40,1,2]]]);
//# sourceMappingURL=main.e95d0d42.chunk.js.map